---
title: 'MCP and Cursor Integration'
description: 'Extend Claude Code with Model Context Protocol servers and Cursor IDE'
order: 3
duration: '60 minutes'
---

# MCP and Cursor Integration

Out of the box, Claude Code is powerful. With MCP servers and Cursor, it becomes unstoppable. These tools give Claude access to databases, APIs, and external services—transforming it from assistant to integrated development partner.

<Diagram title="The Extended Claude Ecosystem" type="flowchart" caption="MCP + Cursor supercharge Claude Code">
{`flowchart TB
    subgraph claude[Claude Code]
        A[Core]
    end

    subgraph mcp[MCP Servers]
        B[Filesystem]
        C[Database]
        D[GitHub]
        E[Web Search]
    end

    subgraph tools[Development Tools]
        F[Cursor IDE]
        G[VS Code]
    end

    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    A --> G
`}
</Diagram>

<Callout type="tip" title="Why This Matters">
MCPs are like plugins. Without them, Claude can only see what you show it. With them, Claude can query your database, search the web, access APIs—all automatically.
</Callout>

---

## Part 1: Model Context Protocol (MCP)

### What is MCP?

MCP is Anthropic's open standard for connecting Claude to external data sources and tools. Think of each MCP server as a plugin that grants Claude new capabilities.

<Diagram title="How MCP Works" type="flowchart">
{`flowchart LR
    A[Claude Code] --> B[MCP Server]
    B --> C[External Resource]
    C --> D[Database]
    C --> E[API]
    C --> F[Filesystem]
    C --> G[Web]
`}
</Diagram>

### What MCPs Enable

<InfoTable
  columns={[
    { key: 'server', header: 'MCP Server' },
    { key: 'can', header: 'What Claude Can Do' },
  ]}
  rows={[
    { server: <strong>Filesystem</strong>, can: 'Read/write any files you authorize' },
    { server: <strong>PostgreSQL</strong>, can: 'Query databases, analyze schemas' },
    { server: <strong>GitHub</strong>, can: 'Create PRs, read issues, analyze repos' },
    { server: <strong>Web Search</strong>, can: 'Search the internet in real-time' },
    { server: <strong>Slack</strong>, can: 'Read/send messages, search history' },
    { server: <strong>Google Drive</strong>, can: 'Access documents, spreadsheets' },
  ]}
/>

### Installing MCP Servers

#### Method 1: Official MCPs

```bash
# Filesystem MCP
npx @modelcontextprotocol/server-filesystem /path/to/allow

# PostgreSQL MCP
npm install -g @modelcontextprotocol/server-postgres
```

Configure in Claude Code:

```bash
claude config edit
```

Add to config:

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "@modelcontextprotocol/server-filesystem",
        "/Users/you/projects"
      ]
    },
    "postgres": {
      "command": "mcp-server-postgres",
      "env": {
        "DATABASE_URL": "postgresql://user:pass@localhost/mydb"
      }
    }
  }
}
```

#### Method 2: Community MCPs

Browse available MCPs:
- [Official MCP Servers](https://github.com/modelcontextprotocol/servers)
- [MCP.so Directory](https://mcp.so)

### Using MCPs

Once configured, just ask Claude naturally:

**Filesystem MCP:**
```
List all Python files modified this week in my project.
```

**Database MCP:**
```
Show the schema for the users table.
Count how many users signed up this month.
```

**GitHub MCP:**
```
List open issues labeled "bug" in our repo.
Create a PR for my current branch.
```

---

## Part 2: Cursor IDE

### What is Cursor?

Cursor is an AI-first code editor built on VS Code. It has Claude deeply integrated—not as an add-on, but as a core feature.

<Diagram title="Cursor Workflow" type="flowchart">
{`flowchart LR
    A[Select Code] --> B[Cmd+K]
    B --> C[Type Instruction]
    C --> D[Claude Edits]
    D --> E[Accept/Reject]
`}
</Diagram>

### Key Features

<InfoTable
  columns={[
    { key: 'feature', header: 'Feature' },
    { key: 'shortcut', header: 'Shortcut' },
    { key: 'does', header: 'What It Does' },
  ]}
  rows={[
    { feature: 'Inline Edit', shortcut: 'Cmd+K', does: 'Edit selected code with AI' },
    { feature: 'Chat', shortcut: 'Cmd+L', does: 'Ask questions, get explanations' },
    { feature: 'Composer', shortcut: 'Cmd+Shift+L', does: 'Multi-file editing' },
    { feature: 'Tab Complete', shortcut: 'Tab', does: 'Accept AI suggestions' },
  ]}
/>

### Installing Cursor

<Tabs>
  <TabList>
    <Tab>Mac</Tab>
    <Tab>Windows</Tab>
    <Tab>Linux</Tab>
  </TabList>
  <TabPanel>

```bash
# Homebrew
brew install --cask cursor

# Or download from cursor.sh
```

  </TabPanel>
  <TabPanel>

Download from [cursor.sh](https://cursor.sh) and run the installer.

  </TabPanel>
  <TabPanel>

```bash
# AppImage available at cursor.sh
chmod +x cursor.AppImage
./cursor.AppImage
```

  </TabPanel>
</Tabs>

### Cursor Workflows

#### Workflow 1: Inline Editing (Cmd+K)

1. Select code
2. Press `Cmd+K`
3. Type what you want: "Add error handling"
4. Accept or refine

```typescript
// Before: Select this function
function fetchUser(id: string) {
  return fetch(`/api/users/${id}`)
}

// After Cmd+K: "Add TypeScript types and error handling"
async function fetchUser(id: string): Promise<User | null> {
  try {
    const response = await fetch(`/api/users/${id}`)
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}`)
    }
    return await response.json()
  } catch (error) {
    console.error('Failed to fetch user:', error)
    return null
  }
}
```

#### Workflow 2: Chat (Cmd+L)

Ask questions about your codebase:

```
How does authentication work in this project?
```

```
Explain what this regex does.
```

```
What's the best way to add caching here?
```

Claude analyzes your code and explains.

#### Workflow 3: Multi-File Composer (Cmd+Shift+L)

For changes across multiple files:

```
Refactor all React components to use TypeScript.
Add proper prop types to each one.
```

Cursor shows diffs for all affected files. Review and apply.

---

## Part 3: Combined Workflows

### The Ultimate Stack

Use all three together:

<Diagram title="Full Integration" type="flowchart">
{`flowchart TB
    subgraph exploration[1. Explore]
        E1[Claude Code + MCP]
        E2[Query database]
        E3[Search codebase]
    end

    subgraph development[2. Develop]
        D1[Cursor IDE]
        D2[Inline edits]
        D3[Multi-file changes]
    end

    subgraph integration[3. Integrate]
        I1[Claude Code]
        I2[Git operations]
        I3[Deploy]
    end

    exploration --> development --> integration
`}
</Diagram>

### Example: Building a Dashboard

**Step 1: Explore Data (Claude Code + MCP)**

```
Connect to the production database.
Show me the schema for the metrics table.
What data do we have for the last 30 days?
```

Claude queries the database and explains what's available.

**Step 2: Plan (Claude Code)**

```
I want to build a dashboard showing:
1. Daily active users
2. Revenue by product
3. Top converting pages

Think through how to implement this.
```

**Step 3: Implement (Cursor)**

Open Cursor, press `Cmd+L`:

```
Create a Next.js dashboard with three cards:
1. Daily Active Users - line chart
2. Revenue - bar chart by product
3. Top Pages - table with conversion rates

Use the metrics schema you saw earlier.
Use Tailwind and Recharts.
```

**Step 4: Refine (Cursor)**

Select a component, `Cmd+K`:

```
Add loading state and error handling
```

**Step 5: Deploy (Claude Code)**

```
Create a commit for the dashboard feature.
Push and create a PR.
```

---

## Building Custom MCPs

For advanced users: create your own MCP servers.

### Basic Structure

```typescript
// my-mcp/src/index.ts
import { Server } from '@modelcontextprotocol/sdk/server/index.js'
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js'

const server = new Server({
  name: 'my-custom-mcp',
  version: '1.0.0',
})

// Define tools
server.setRequestHandler('tools/call', async (request) => {
  if (request.params.name === 'my_tool') {
    const { input } = request.params.arguments

    // Your logic here
    const result = await processInput(input)

    return {
      content: [{
        type: 'text',
        text: JSON.stringify(result)
      }]
    }
  }
})

// Start server
const transport = new StdioServerTransport()
await server.connect(transport)
```

### Example: Weather MCP

```typescript
server.setRequestHandler('tools/call', async (request) => {
  if (request.params.name === 'get_weather') {
    const { city } = request.params.arguments

    const response = await fetch(
      `https://api.weather.com/v1?q=${city}&key=${API_KEY}`
    )
    const data = await response.json()

    return {
      content: [{
        type: 'text',
        text: `Weather in ${city}: ${data.temp}°F, ${data.conditions}`
      }]
    }
  }
})
```

### Register Your MCP

```json
{
  "mcpServers": {
    "weather": {
      "command": "node",
      "args": ["/path/to/my-mcp/build/index.js"],
      "env": {
        "API_KEY": "your-key"
      }
    }
  }
}
```

Now Claude can check the weather:

```
What's the weather in San Francisco?
```

---

## Best Practices

### Security

1. **Limit MCP access** — Only grant necessary permissions
2. **Use environment variables** — Never hardcode secrets
3. **Review MCP code** — Before installing third-party MCPs
4. **Audit regularly** — Check what MCPs are accessing

### Performance

1. **Cache results** — Expensive queries should cache
2. **Limit scope** — Don't give MCPs access to everything
3. **Monitor usage** — Track API calls and costs

### Troubleshooting

**MCP not connecting:**

```bash
# Check MCP status
claude mcp list

# View logs
claude mcp logs <server-name>

# Restart
claude mcp restart <server-name>
```

**Cursor not responding:**

1. Restart Cursor
2. Check Claude API key in settings
3. Clear cache: `Cmd+Shift+P` → "Clear Editor History"

---

## Quick Reference

### MCP Configuration

```json
{
  "mcpServers": {
    "name": {
      "command": "executable",
      "args": ["arg1", "arg2"],
      "env": {
        "KEY": "value"
      }
    }
  }
}
```

### Cursor Shortcuts

<InfoTable
  columns={[
    { key: 'shortcut', header: 'Shortcut' },
    { key: 'action', header: 'Action' },
  ]}
  rows={[
    { shortcut: 'Cmd+K', action: 'Inline edit' },
    { shortcut: 'Cmd+L', action: 'Open chat' },
    { shortcut: 'Cmd+Shift+L', action: 'Composer mode' },
    { shortcut: 'Tab', action: 'Accept suggestion' },
    { shortcut: 'Escape', action: 'Dismiss' },
  ]}
/>

### Popular MCPs

<InfoTable
  columns={[
    { key: 'mcp', header: 'MCP' },
    { key: 'use', header: 'Use Case' },
  ]}
  rows={[
    { mcp: 'server-filesystem', use: 'File access' },
    { mcp: 'server-postgres', use: 'PostgreSQL queries' },
    { mcp: 'server-github', use: 'GitHub operations' },
    { mcp: 'server-brave-search', use: 'Web search' },
    { mcp: 'server-slack', use: 'Slack integration' },
  ]}
/>

---

## Resources

- [MCP Documentation](https://modelcontextprotocol.io)
- [MCP Server Directory](https://mcp.so)
- [Cursor Documentation](https://docs.cursor.sh)
- [Claude Code Docs](https://docs.anthropic.com/en/docs/claude-code)

---

## Next Steps

1. **Install one MCP** — Start with filesystem or database
2. **Try Cursor** — Use `Cmd+K` on your next task
3. **Combine them** — Use MCP to explore, Cursor to implement
4. **Build custom** — Create an MCP for your team's tools

**Related Topics:**
- [Best Practices](./best-practices) — Optimize workflows
- [Claude Skills](./skills) — Custom commands
- [Automation Track](/automation) — Automate tasks

---

<Callout type="success" title="Extend Your Capabilities!">
Start with one MCP that solves a real problem—maybe database access or GitHub integration. Use it for a week. Then add another. Combined with Cursor, you'll have an AI-powered development environment that feels like the future.
</Callout>
