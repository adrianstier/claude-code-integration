@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --foreground-rgb: 0, 0, 0;
    --background-start-rgb: 255, 255, 255;
    --background-end-rgb: 255, 255, 255;
  }

  .dark {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 17, 24, 39;
    --background-end-rgb: 17, 24, 39;
  }

  body {
    color: rgb(var(--foreground-rgb));
    background: linear-gradient(
        to bottom,
        transparent,
        rgb(var(--background-end-rgb))
      )
      rgb(var(--background-start-rgb));
    min-height: 100vh;
  }

  /* Subtle background pattern */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(circle at 1px 1px, rgb(0 0 0 / 0.03) 1px, transparent 0);
    background-size: 32px 32px;
    pointer-events: none;
    z-index: -1;
  }

  .dark body::before {
    background-image: radial-gradient(circle at 1px 1px, rgb(255 255 255 / 0.03) 1px, transparent 0);
  }

  /* Enhanced focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-claude-500 ring-offset-2 rounded;
  }

  /* Remove focus ring for mouse users but keep for keyboard users */
  *:focus:not(:focus-visible) {
    @apply outline-none ring-0;
  }

  /* Skip to main content link */
  .skip-to-main {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-tooltip focus:rounded-lg focus:bg-claude-600 focus:px-4 focus:py-2 focus:text-white focus:shadow-lg;
  }
}

@layer components {
  .prose {
    @apply max-w-none;
  }

  /* Enhanced prose typography */
  .prose h1 {
    @apply mb-6 mt-8 text-4xl font-bold text-gray-900 dark:text-gray-100;
  }

  .prose h2 {
    @apply mb-4 mt-8 border-b border-gray-200 dark:border-gray-700 pb-2 text-3xl font-bold text-gray-900 dark:text-gray-100;
  }

  .prose h3 {
    @apply mb-3 mt-6 text-2xl font-semibold text-gray-800 dark:text-gray-200;
  }

  .prose h4 {
    @apply mb-2 mt-4 text-xl font-semibold text-gray-800 dark:text-gray-200;
  }

  .prose p {
    @apply mb-4 leading-7 text-gray-700 dark:text-gray-300;
  }

  .prose ul {
    @apply mb-4 space-y-2;
  }

  .prose ol {
    @apply mb-4 space-y-2;
  }

  .prose li {
    @apply leading-7 text-gray-700 dark:text-gray-300;
  }

  .prose strong {
    @apply font-semibold text-gray-900 dark:text-gray-100;
  }

  .prose a {
    @apply text-claude-600 dark:text-claude-400 underline decoration-claude-200 dark:decoration-claude-700 underline-offset-2 transition-colors hover:text-claude-700 dark:hover:text-claude-300 hover:decoration-claude-400 dark:hover:decoration-claude-500;
  }

  .prose blockquote {
    @apply border-l-4 border-claude-500 bg-claude-50 dark:bg-claude-900/30 py-3 pl-4 pr-3 italic text-gray-700 dark:text-gray-300;
  }

  .prose hr {
    @apply my-8 border-gray-200 dark:border-gray-700;
  }

  /* Code blocks are handled by our custom CodeBlock component */
  /* Only style inline code in prose */
  .prose :not(pre) > code {
    @apply rounded bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 text-sm font-mono text-gray-800 dark:text-gray-200;
  }

  /* Tables */
  .prose table {
    @apply w-full border-collapse;
  }

  .prose th {
    @apply bg-gray-100 dark:bg-gray-800 px-4 py-2 text-left font-semibold text-gray-900 dark:text-gray-100;
  }

  .prose td {
    @apply border-t border-gray-200 dark:border-gray-700 px-4 py-2 text-gray-700 dark:text-gray-300;
  }
}
